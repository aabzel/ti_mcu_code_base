нашли подключенное устройство.
Проверили его серийник

--Открыли бинарный файл и проверить что в нем нормальный указатель на вершину стека
--загрузить бинарный файл в массив RAM
--вычислить контрольную сумму бинарного файла
--добавить в начало массива контрольную сумму и длину бинарного файла
--проверить что устройство подключается
--прочитать и запомнить дату сборки прошивки, что в микроконтроллере (трудно и не обязательно)
--прыгнуть в загрузчик и остаться в загрузчике
--стереть приложение
--записывать прошивку блоками по 128байт
--прочитать блок из памяти устройства
--проверить что совпадает прочитанный блок совпадает с тем что записывали 
--после загрузки прошивки перезапустить устройство


До прошивки указывать ее размер и кортрольную сумму чтобы загрузчик мог понято что это корректная прошивка и ее можно попробовать загрузить

--проверить, что в самом деле прошивка обновилась убедиться, что время сборки новой прошивки отличается от времени сборки старой прошивки

